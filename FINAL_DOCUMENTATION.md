# ๐ ูุธุงู Alabasi ุงููุญุงุณุจู - ุงูุชูุซูู ุงูููุงุฆู

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-01-18  
**ุงูุฅุตุฏุงุฑ:** 2.0  
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุญุงุณุจู ุงุญุชุฑุงูู ูุชุนุฏุฏ ุงููุญุฏุงุช ูุงููุคุณุณุงุช ูุน **ุนุฒู ูุงูู** ุจุงุณุชุฎุฏุงู ููุงุนุฏ ุจูุงูุงุช ูููุตูุฉ ููุธุงู ุญุณุงุจุงุช ูุณูุทุฉ ููุชุญูููุงุช.

### โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ:

1. โ **ููุงุนุฏ ุจูุงูุงุช ูููุตูุฉ:** ูู ูุญุฏุฉ ููุง ูุงุนุฏุฉ ุจูุงูุงุช ุฎุงุตุฉ ุจูุง (ุนุฒู ูุงูู)
2. โ **ูุธุงู ุญุณุงุจุงุช ูุณูุทุฉ:** ุชุญูููุงุช ุขููุฉ ููุชูุงุฒูุฉ ุจูู ุงููุคุณุณุงุช ูุงููุญุฏุงุช
3. โ **ูุธุงู ูุณุฎ ุงุญุชูุงุทู:** script ุชููุงุฆู ูููุณุฎ ุงูุงุญุชูุงุทู ุงููููู
4. โ **ูุงุจู ููุชูุณุน:** ูููู ููู ุฃู ูุญุฏุฉ ูุฎุงุฏู ูููุตู ุจุณูููุฉ
5. โ **ุขูู:** ุงุณุชุฎุฏุงู Transactions ูู ุฌููุน ุงูุนูููุงุช ุงูุญุฑุฌุฉ

---

## ๐ฆ ุงููููุงุช ุงูููุงุฆูุฉ

### 1๏ธโฃ **ุงูููุฏ ุงููุตุฏุฑู (GitHub):**
- **ุงููุณุชูุฏุน:** https://github.com/alabasi2025/alabasi-php
- **ุงููุฑุน:** `master`
- **ุขุฎุฑ commit:** `418f8e4`

### 2๏ธโฃ **ุงูู scripts ุงููุงูุฉ:**

| ุงูููู | ุงููุตู |
|---|---|
| `backup_databases.sh` | script ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู |
| `restore_database.sh` | script ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ |
| `test_transfer.php` | script ุงุฎุชุจุงุฑ ุงูุชุญูููุงุช ุจูู ุงููุคุณุณุงุช |

### 3๏ธโฃ **ุงูุชูุซูู:**

| ุงูููู | ุงููุตู |
|---|---|
| `alabasi_system_architecture.md` | ุงูุจููุฉ ุงููุงููุฉ ูููุธุงู |
| `alabasi_implementation_guide.md` | ุฏููู ุงูุชูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ |
| `FINAL_DOCUMENTATION.md` | ูุฐุง ุงูููู |

---

## ๐ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู

### 1๏ธโฃ **ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู**

ูุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูููููุ ุฃุถู ูุฐุง ุงูู Cron Job ูู ููุญุฉ ุชุญูู Hostinger:

```bash
0 2 * * * /usr/bin/bash /home/u306850950/domains/alabasi.es/public_html/backup_databases.sh >> /home/u306850950/backups/backup.log 2>&1
```

**ุงูุดุฑุญ:**
- `0 2 * * *`: ูุนูู ูู ููู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
- `backup_databases.sh`: ูุดุบู script ุงููุณุฎ ุงูุงุญุชูุงุทู
- `>> backup.log`: ูุญูุธ ุณุฌู ุงูุนูููุฉ ูู ููู

### 2๏ธโฃ **ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ**

1. ุงุชุตู ุจุงูุฎุงุฏู ุนุจุฑ SSH
2. ุงุนุฑุถ ุงููุณุฎ ุงููุชููุฑุฉ:
   ```bash
   ls -1t /home/u306850950/backups/*.sql.gz | head -10
   ```
3. ุดุบู script ุงูุงุณุชุนุงุฏุฉ:
   ```bash
   ./restore_database.sh <database_name> <backup_file_name>
   ```
   **ูุซุงู:**
   ```bash
   ./restore_database.sh u306850950_alabasi_main u306850950_alabasi_main_20250118_194000.sql.gz
   ```

### 3๏ธโฃ **ุฅูุดุงุก ุชุญููู ุจูู ูุคุณุณุชูู**

ููููู ุงุณุชุฎุฏุงู `test_transfer.php` ููุฑุฌุน ูุฅูุดุงุก ุงูุชุญูููุงุช ูู ุฏุงุฎู Laravel:

```php
use App\Services\ClearingAccountService;

$clearingService = new ClearingAccountService();

$transfer = $clearingService->createTransfer([
    // ุงููุตุฏุฑ: ุฃุนูุงู ุงูููุธููู (ูุญุฏุฉ ุงูุญุฏูุฏุฉ)
    'source_unit_id' => 1,
    'source_company_id' => 1,
    'source_account_id' => 3,  // ุงูุตูุฏูู
    'source_branch_id' => 1,
    
    // ุงููุฏู: ุฃุนูุงู ุงููุญุงุณุจ (ูุญุฏุฉ ุงูุญุฏูุฏุฉ)
    'target_unit_id' => 1,
    'target_company_id' => 2,
    'target_account_id' => 15, // ุงูุตูุฏูู
    'target_branch_id' => 2,
    
    // ุงูุชูุงุตูู
    'amount' => 5000,
    'description' => 'ุชุญููู ุฑุฃุณ ูุงู',
    'entry_date' => '2025-01-18',
    'user_id' => 1,
]);
```

---

## ๐ ุจููุฉ ููุงุนุฏ ุงูุจูุงูุงุช

### 1๏ธโฃ **ุงููุงุนุฏุฉ ุงููุฑูุฒูุฉ (`u306850950_alabasi_main`)**

| ุงูุฌุฏูู | ุงููุตู |
|---|---|
| `units` | ุงููุญุฏุงุช (ุงูุญุฏูุฏุฉุ ุงูุนุจุงุณู) |
| `companies` | ุงููุคุณุณุงุช (ูุนูููุงุช ุฃุณุงุณูุฉ) |
| `clearing_transactions` | ุณุฌู ุฌููุน ุงูุชุญูููุงุช ุจูู ุงููุคุณุณุงุช/ุงููุญุฏุงุช |
| `backup_logs` | ุณุฌู ุนูููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู |

### 2๏ธโฃ **ููุงุนุฏ ุงููุญุฏุงุช (`u306850950_alabasi_unit_2`, `_unit_3`)**

| ุงูุฌุฏูู | ุงููุตู |
|---|---|
| `companies` | ุงููุคุณุณุงุช (ุชูุงุตูู ูุงููุฉ) |
| `branches` | ุงููุฑูุน |
| `accounts` | ุดุฌุฑุฉ ุงูุญุณุงุจุงุช (ูุน ุฏุนู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ) |
| `journal_entries` | ุงููููุฏ ุงูููููุฉ |
| `journal_entry_details` | ุชูุงุตูู ุงููููุฏ |

---

## ๐ก ููุงุญุธุงุช ูููุฉ

1. โ **ุงูุฃูุงู:** ูููุงุช ุงููุฑูุฑ ููุฌูุฏุฉ ูู ููู `.env` - ูุง ุชุดุงุฑููุง ุฃุจุฏุงู.
2. โ **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ุชุฃูุฏ ูู ุนูู ุงูู Cron Job ุจุดูู ุตุญูุญ.
3. โ **ุงูุชุทููุฑ:** ุฃู ุชุนุฏููุงุช ุฌุฏูุฏุฉ ูุฌุจ ุฃู ุชุชู ุนูู ูุณุฎุฉ ูุญููุฉ ุฃููุงู ุซู ุฑูุนูุง ูู GitHub.
4. โ **ุงูุฏุนู:** ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุฑุงุฌุน `alabasi_implementation_guide.md`.

---

## ๐ ููุฏุนู ุงูููู

ุฅุฐุง ุงุญุชุฌุช ุฃู ูุณุงุนุฏุฉ ุฅุถุงููุฉุ ููููู ุงูุชูุงุตู ูุนู ูู ุฃู ููุช!

**ุฃุชููู ูู ูู ุงูุชูููู!** ๐
