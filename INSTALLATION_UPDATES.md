# ุชุซุจูุช ูุธุงู ุงูุชุญุฏูุซุงุช - ุฏููู ุณุฑูุน
## Quick Installation Guide for Updates System

---

## ๐ ุงูุชุซุจูุช ุงูุณุฑูุน (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุชุทุจูู ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงูุชุญ **phpMyAdmin** ููู ุจุชูููุฐ ุงูููู ุงูุชุงูู:

```sql
-- ุงูุชุญ ููู: system_updates_schema.sql
-- ูููุฐู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: alabasi_unified
```

ุฃู ุนุจุฑ ุณุทุฑ ุงูุฃูุงูุฑ:

```bash
mysql -u root alabasi_unified < system_updates_schema.sql
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงููููุงุช

ุชุฃูุฏ ูู ูุฌูุฏ ุงููููุงุช ุงูุชุงููุฉ:

```
D:\AAAAAA\xampp\htdocs\alabasi\
โโโ backup-manager.php (ูุญุฏุซ)
โโโ api/
โ   โโโ system-updates.php (ุฌุฏูุฏ)
โโโ system_updates_schema.sql (ุฌุฏูุฏ)
โโโ UPDATES_GUIDE.md (ุฏููู ุงูุงุณุชุฎุฏุงู)
โโโ INSTALLATION_UPDATES.md (ูุฐุง ุงูููู)
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก ูุฌูุฏ ุงูุชุญูููุงุช

```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน
mkdir -p uploads/updates
chmod 777 uploads/updates
```

ุฃู ูุฏููุงู:
1. ุฃูุดุฆ ูุฌูุฏ `uploads` ูู ูุฌูุฏ ุงููุดุฑูุน
2. ุฃูุดุฆ ูุฌูุฏ `updates` ุฏุงุฎู `uploads`
3. ุงุถุจุท ุงูุตูุงุญูุงุช ุนูู 777

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงููุธุงู

1. ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
   ```
   http://localhost/alabasi/backup-manager.php
   ```

2. ูุฌุจ ุฃู ุชุฑู:
   - โ 6 ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ ูู ุงูุฃุนูู
   - โ 3 ุชุจููุจุงุช: ุงููุณุฎ ุงูุงุญุชูุงุทู | ุงูุชุญุฏูุซุงุช | ุงูุณุฌู
   - โ ูุณู "ุงูุชุญุฏูุซ ูู GitHub"
   - โ ูุณู "ุงูุชุญุฏูุซ ุงููุฏูู"

---

## โ ุงูุชุญูู ูู ุงูุชุซุจูุช

### ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูู ุจุชูููุฐ ุงูุงุณุชุนูุงู ุงูุชุงูู ูู phpMyAdmin:

```sql
-- ูุฌุจ ุฃู ูุนุฑุถ ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
SHOW TABLES LIKE '%update%';

-- ุงููุชูุฌุฉ ุงููุชููุนุฉ:
-- system_updates
-- update_files_log
-- auto_update_settings
-- update_notifications
```

### ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ

1. ุงูุชุญ `backup-manager.php`
2. ุงูุชูู ุฅูู ุชุจููุจ "ุงูุชุญุฏูุซุงุช"
3. ุฃุฏุฎู ุฑุงุจุท GitHub: `https://github.com/alabasi2025/alabasi-accounting-system`
4. ุงุถุบุท "ุงูุจุญุซ ุนู ุชุญุฏูุซุงุช"
5. ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุจุงูุชุญุฏูุซุงุช ุงููุชุงุญุฉ

---

## ๐ง ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)

### 1. ุชูุนูู ุงููุญุต ุงูุชููุงุฆู

```sql
UPDATE auto_update_settings 
SET autoCheckEnabled = TRUE,
    checkInterval = 24
WHERE id = 1;
```

### 2. ุชุบููุฑ ูุณุงุฑ ุงููุณุฎ ุงูุงุญุชูุงุทู

ุนุฏูู ูู ููู `api/system-updates.php`:

```php
// ุงูุณุทุฑ 450 ุชูุฑูุจุงู
function createBackupBeforeUpdate($pdo, $userId) {
    $backupDir = 'M:/ุงููุณุฎ ุงูุงุญุชูุงุทู/';  // ุบููุฑ ูุฐุง ุงููุณุงุฑ
    // ...
}
```

### 3. ุชูุนูู GitHub Token (ูููุณุชูุฏุนุงุช ุงูุฎุงุตุฉ)

```sql
UPDATE auto_update_settings 
SET githubToken = 'ghp_your_token_here'
WHERE id = 1;
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: "Table 'system_updates' doesn't exist"

**ุงูุญู:**
```sql
-- ููุฐ ููู SQL ูุฑุฉ ุฃุฎุฑู
SOURCE system_updates_schema.sql;
```

### ูุดููุฉ: "Permission denied" ุนูุฏ ุฑูุน ููู

**ุงูุญู:**
```bash
# ุงุถุจุท ุตูุงุญูุงุช ูุฌูุฏ uploads
chmod -R 777 uploads/
```

### ูุดููุฉ: "Failed to connect to GitHub"

**ุงูุญู:**
- ุชุฃูุฏ ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู ุฃู PHP cURL ููุนู:
  ```bash
  php -m | grep curl
  ```
- ุฅุฐุง ูู ููู ููุนูุงูุ ุงูุชุญ `php.ini` ูุฃุฒู `;` ูู:
  ```ini
  extension=curl
  ```

### ูุดููุฉ: "Cannot write to file"

**ุงูุญู:**
```bash
# ุงุถุจุท ุตูุงุญูุงุช ุฌููุน ูููุงุช ุงููุดุฑูุน
chmod -R 755 /path/to/alabasi/
```

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงูุจุฏุก ูู ุงุณุชุฎุฏุงู ุงููุธุงูุ ุชุฃูุฏ ูู:

- [ ] ุชู ุชูููุฐ `system_updates_schema.sql` ุจูุฌุงุญ
- [ ] ุชู ุฅูุดุงุก ูุฌูุฏ `uploads/updates` ูุน ุงูุตูุงุญูุงุช ุงูุตุญูุญุฉ
- [ ] ููู `api/system-updates.php` ููุฌูุฏ ููุนูู
- [ ] ุตูุญุฉ `backup-manager.php` ูุญุฏุซุฉ ูุชุนุฑุถ ุงูุชุจููุจุงุช ุงูุฌุฏูุฏุฉ
- [ ] ููููู ุงููุตูู ุฅูู ุงูุตูุญุฉ ุจุฏูู ุฃุฎุทุงุก
- [ ] ุงุฎุชุจุฑุช ุงูุจุญุซ ุนู ุชุญุฏูุซุงุช GitHub ุจูุฌุงุญ
- [ ] ูุฌูุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู `M:\ุงููุณุฎ ุงูุงุญุชูุงุทู` ููุฌูุฏ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุชุซุจูุช ุงููุงุฌุญ:

1. **ุงูุฑุฃ ุฏููู ุงูุงุณุชุฎุฏุงู ุงููุงูู:** `UPDATES_GUIDE.md`
2. **ุฌุฑูุจ ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ**
3. **ุฌุฑูุจ ุงูุจุญุซ ุนู ุชุญุฏูุซุงุช GitHub**
4. **ุฌุฑูุจ ุฑูุน ุชุญุฏูุซ ูุฏูู (ููู ZIP ุชุฌุฑูุจู)**
5. **ุชุนููู ููููุฉ ุงูุชุฑุงุฌุน ุนู ุงูุชุญุฏูุซุงุช**

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- **ุฏููู ุงูุงุณุชุฎุฏุงู ุงููุงูู:** `UPDATES_GUIDE.md`
- **ููู SQL:** `system_updates_schema.sql`
- **API Documentation:** ุฑุงุฌุน ุงูุชุนูููุงุช ูู `api/system-updates.php`
- **GitHub Repository:** https://github.com/alabasi2025/alabasi-accounting-system

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุฑุงุฌุน ูุณู "ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ" ุฃุนูุงู
2. ุชุญูู ูู ููู `error_log` ูู ูุฌูุฏ ุงููุดุฑูุน
3. ุชูุงุตู ูุน ุงูุฏุนู ุงูููู

---

**ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ:** 14 ููุงูุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงููุทูุฑ:** ูุฑูู ูุธุงู ุงูุฃุจุงุณู ุงููุญุงุณุจู
